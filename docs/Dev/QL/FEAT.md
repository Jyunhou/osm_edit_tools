# 语言特性设计

## 查询与运算

通过花括号来代表符合`()`内条件的集合体，就不用进行`>`这样的操作去提取一个集合体了，也不用`>,railway`之类的方式进行运算

对于需要提取为集合可能仍保留`>`算符？还是说干脆显式一点

* `{(A)}->{(B)}`代表集合提取
* `{(A)}=>(B)`代表按照某种条件操作

这样`{(A)}->railway/.railway`就代表一个集合

上述两个语法混用可以
`{{(A)}->.railway}=>([rail=yes])`

启发于 https://github.com/LaoshuBaby/Keqing/commit/41bb435bb7af58651caf825126e2b18b6a363471 的写commit的时候

`{()}` 是没有任何有效约束条件的全集

当使用一个已被定义的集合时，我们应使用`{set_name}`来使用。

## 语法设计

### 抗缩进与抗猫性

文件开头和结尾分别需要添加`{**`与`**}`进行包装，以确定有效的代码内容。当然这并非强制的，当未能解析到这两个令牌组合的时候，应将整个文件都视为代码。对于能通过最前的`{**`和最接近前述`{**`的`**}`所包裹的内容，应视为代码。

### 约束特性

同样应该支持OverpassQL的CSV输出描述

同样应该支持OverpassQL的`areaname`、`poly`、`bbox`等限定，但是为了简洁，我们可以令它作为一个限制条件

而诸如`[rail=yes]`的同样是限制条件，所有限制条件可以以`[][][]`并列

### 注释

注释采用python风格的`#`作为注释的开端，但因为是QL语句，就势必会遇到折行和缩进的问题，因此在考虑通过`#**#`的方式定义行内注释。而多行注释可以认为是一个行内注释，依然按照`#**#`来进行注释。这样和js/cpp风格的注释唯一不同就在于token的不同了。
